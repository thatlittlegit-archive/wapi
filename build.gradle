apply plugin: 'java'
apply plugin: 'maven'
task wrapper(type: Wrapper){
   gradleVersion = '3.4'
}

task jsinstall {
     Runtime r = Runtime.getRuntime()
     Process p = r.exec("npm install --global jshint jscs csslint htmlhint")
     p.waitFor()
}

task createPom << {
   String wapiVersion = new groovy.json.JsonSlurper().parseText(file("metadata.json").text).version
   pom {
      project {
         groupId 'wapidstyle'
         artifactId 'wapi'
         version wapiVersion

         inceptionYear '2015'
         licenses {
            license {
               name 'The MIT License'
               url 'http://mit-license.org/'
               distribution 'repo'
            }
         }
      }
   }.writeTo("pom.xml")
}
